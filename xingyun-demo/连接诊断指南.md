# 🔍 数字人连接诊断指南

## 概述

本系统新增了全面的连接诊断功能，帮助您快速定位和解决数字人连接问题。

## 🚀 快速开始

### 1. 打开诊断工具
- 点击右上角的"配置"按钮
- 在配置页面底部点击"🔍 连接诊断"按钮
- 系统将自动运行全面诊断

### 2. 查看诊断结果
诊断结果分为以下几类：
- ✅ **成功**：该组件工作正常
- 🟡 **警告**：存在潜在问题，建议优化
- 🔴 **错误**：严重问题，需要立即解决

## 📋 诊断项目详解

### 配置信息检查
- **魔珐星云 App ID/App Secret**：检查是否正确配置
- **LLM模型和API Key**：检查大模型服务配置

### 网络连接检查
- **SDK文件访问**：验证是否能下载魔珐星云SDK
- **网关服务器可达性**：检查是否能连接到魔珐星云服务器

### SDK加载检查
- **SDK是否加载**：验证JavaScript SDK是否正确加载

### 身份认证检查
- **认证信息格式**：验证App ID和App Secret格式是否正确
- **网关认证响应**：检查认证信息是否能被服务器接受

### 大模型连接检查
- **API服务器可达性**：检查是否能连接到LLM API
- **API Key有效性**：验证LLM API Key是否有效

## 🛠️ 常见问题解决

### 1. 配置错误
**问题**：App ID或App Secret未配置
**解决**：
- 访问 [魔珐星云平台](https://xingyun3d.com/)
- 注册账号并创建应用
- 获取正确的App ID和App Secret
- 在配置页面填写完整信息

### 2. 网络连接问题
**问题**：无法访问魔珐星云服务器
**解决**：
- 检查网络连接是否正常
- 确认防火墙没有阻止相关域名
- 尝试使用其他网络环境
- 联系网络管理员检查代理设置

### 3. SDK加载失败
**问题**：JavaScript SDK未加载
**解决**：
- 刷新页面重新加载
- 清除浏览器缓存
- 检查浏览器控制台是否有错误信息
- 确认没有广告拦截器阻止脚本加载

### 4. 认证失败
**问题**：App ID或App Secret不正确
**解决**：
- 重新检查魔珐星云平台上的认证信息
- 确认复制时没有多余的空格或字符
- 检查应用是否已激活
- 联系魔珐星云技术支持

### 5. LLM连接问题
**问题**：大模型API无法连接
**解决**：
- 检查API Key是否正确且未过期
- 确认选择的模型与API Key匹配
- 检查API调用配额是否充足
- 验证网络是否能访问对应的服务商

## 📊 诊断报告解读

### 成功状态示例
```
✅ 魔珐星云 App ID 已配置
✅ 魔珐星云 SDK 已加载
✅ 魔珐星云网关服务器可达
```

### 警告状态示例
```
🟡 LLM模型未选择，将无法进行AI对话
🟡 网关可达但认证失败，请检查App ID和App Secret是否正确
```

### 错误状态示例
```
🔴 魔珐星云 App ID 未配置
🔴 无法访问魔珐星云SDK文件，请检查网络连接
🔴 LLM API Key无效或已过期
```

## 💡 优化建议

### 性能优化
- 使用稳定的网络连接
- 定期检查API Key有效期
- 保持浏览器为最新版本

### 安全建议
- 妥善保管API Key和认证信息
- 定期更新密码
- 使用HTTPS协议访问

### 故障预防
- 定期运行连接诊断
- 备份重要的配置信息
- 建立网络连接监控

## 🆘 获取帮助

如果遇到无法解决的问题：

1. **查看详细日志**：打开浏览器开发者工具查看控制台信息
2. **运行诊断**：使用内置诊断工具获取详细错误信息
3. **联系支持**：
   - 魔珐星云技术支持
   - 项目GitHub Issues
   - 技术交流群组

4. **提供信息**：
   - 诊断结果截图
   - 浏览器控制台错误
   - 网络环境信息
   - 具体的操作步骤

## 📝 更新日志

### v1.0.0
- ✅ 新增全面连接诊断功能
- ✅ 优化错误提示信息
- ✅ 改进用户界面交互
- ✅ 添加蓝耘平台API支持
- ✅ 增强前端视觉效果

---

**注意**：本诊断工具旨在帮助用户快速定位问题，但可能无法覆盖所有特殊情况。如遇复杂问题，建议联系专业技术支持。